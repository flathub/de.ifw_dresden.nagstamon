name: PyQt5
config-opts:
  - --assume-shared
  - --concatenate
  - --confirm-license
  - --no-designer-plugin
  - --no-dist-info
  - --no-docstrings
  - --no-qml-plugin
  - --no-qsci-api
  - --no-stubs
  - --no-tools
  - QMAKE_CFLAGS_RELEASE='-I/usr/include/python3.7m/'
  - QMAKE_CXXFLAGS_RELEASE='-I/usr/include/python3.7m/'
build-options:
  arch:
    i386:
      config-opts:
        - --enable=QtCore
        - --enable=QtGui
        - --enable=QtNetwork
        - --enable=QtPrintSupport
        - --enable=QtWebChannel
        - --enable=QtWidgets
        - --enable=QtSvg
        - --enable=QtMultimedia
    x86_64:
      config-opts:
        - --enable=QtCore
        - --enable=QtGui
        - --enable=QtNetwork
        - --enable=QtPrintSupport
        - --enable=QtWebChannel
        - --enable=QtWidgets
        - --enable=QtSvg
        - --enable=QtMultimedia
    ARM:
      config-opts:
        - --enable=QtCore
        - --enable=QtGui
        - --enable=QtNetwork
        - --enable=QtPrintSupport
        - --enable=QtWebChannel
        - --enable=QtWidgets
        - --enable=QtSvg
        - --enable=QtMultimedia
sources:
  - type: archive
    url: https://www.riverbankcomputing.com/static/Downloads/PyQt5/PyQt5-5.15.2.dev2010041344.tar.gz
    sha256: 25153398487b652b4b0737e0a348dfd9a077c5865cfeb79b02470efa597cfe8e
  - type: script
    commands:
      - processed=`sed -e 's|prefix|sysroot|' <<< $@`
      - python3 configure.py $processed
    dest-filename: configure
cleanup:
  - /share/sip
